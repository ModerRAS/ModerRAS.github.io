---
layout: post
title: 盘点一下最近用selenium时出现的坑之四
date: 2017-08-11 17:17:00 +08:00
tags: [Python]
---

# 写在开始
这个坑我应该是记得比较清楚,那就是我最开始写的时候出现了一个非常坑的事,`'Element is no longer attached to the DOM'`,这个问题.

# 描述
selenium里面所有的定位到的`WebElement`我认为都只是一个指针指向这个页面的某一个地方,然后如果你这时候get了一个新的url那么之前的那些就全部作废了.

# 解决方法
在get新的链接的之前把该爬的爬完就行了,同样的我只是用了map函数来解决这个问题,Python3的map是返回一个map对象的,这个属于一个可迭代对象,算是惰性求值吧,但是当时因为这个老是出错,所以我每一个这个函数外面都套了一层list函数,把这个map对象求值再继续map,这个毛病就没了.

# 写在最后
这个坑在我把所有的惰性求值的map对象和不正确的求值方向修正之后就没了,还好吧,看来有些地方惰性求值还要考虑一下实际情况,先测试一下就好其实,毕竟用map可以省下好多行代码的说.
